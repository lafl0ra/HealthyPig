{% extends 'base.html' %}

{% block title %}
Login
{% endblock %}

{% block content %}
<style>
    body {
        font-family: 'lafl0raFont';
    }
</style>
<div class="row justify-content-center">
    
    <div class="col-md-6" style="border-radius: 50px; background-color: rgba(245, 250, 255, 0.75); padding: 2%; margin-top: 7.5%;">
        <h2 id="topic" class="text-center" style="padding-top: 2%;"> LOGIN </h2>
        <form method="POST" action="{% url 'login' %}">
            {% csrf_token %}
            <!-- [[ form.username.errors ]] อย่าลืมเปลี่ยนเป็นปีกกา -->
            <div class="mb-3">
                <label id="username" for="username" class="form-" style="margin-top: 5%">username</label>
                <input type="text" class="form-control" id="username" name="username" style="margin-top: 1%;" placeholder="Type your username . . ." required>
            </div>
            {{ form.password.errors }}
            <div class="mb-3">
                <label Id="password" for="password" class="form-label" style="margin-top: 3%;">password</label>
                <input type="password" class="form-control" id="password" name="password" style="margin-top: 1%;" placeholder="Type your password . . ." required>
            </div>
            <button id="topic2" type="submit" class="button w-50 mx-auto d-block" style="margin-top: 10%;">LOGIN</button>
            <br>
            <p id="word1" style="margin: 0 auto; width: fit-content;">Don't have an account?</p>
            <div style="text-align: center;">
                <a id="word2" href="{% url 'register' %}" style="text-decoration: none; color: #4CAF50; text-decoration: underline;">
                    Register
                </a>
            </div>
            
            

            <br>
            {% if messages %}
                <div>
                    {% for message in messages %}
                        <p class="text-danger">{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </form>
    </div>
</div>
{% comment %} for language {% endcomment %}
<script>
    var language = {
        en: {
            logo: "Healthy-Pig",
            topic: "LOGIN",
            topic2: "LOGIN",
            username: "username",
            password: "password",
            word1: "Don't have an account?",
            word2: "Register",
        },
        th: {
            logo: "หมูแข็งแรง",
            topic: "เข้าสู่ระบบ",
            topic2: "เข้าสู่ระบบ",
            username: "ชื่อผู้ใช้",
            password: "รหัสผ่าน",
            word1: "ยังไม่มีบัญชีใช่ไหม",
            word2: "ลงทะเบียน",
        },
    };

    // ฟังก์ชันเพื่อเปลี่ยนภาษา
    function changeLanguage(lang) {
        localStorage.setItem("preferredLanguage", lang);
        document.getElementById("logo").innerText = language[lang].logo;
        document.getElementById("topic").innerText = language[lang].topic;
        document.getElementById("topic2").innerText = language[lang].topic2;
        document.getElementById("username").innerText = language[lang].username;
        document.getElementById("password").innerText = language[lang].password;
        document.getElementById("word1").innerText = language[lang].word1;
        document.getElementById("word2").innerText = language[lang].word2;

    }

    document.addEventListener("DOMContentLoaded", function () {
        const preferredLanguage = localStorage.getItem("preferredLanguage") || "en";
        changeLanguage(preferredLanguage);
    });

    document.querySelectorAll("[data-reload]").forEach((button) => {
        button.onclick = function () {
            changeLanguage(this.getAttribute("data-reload"));
            location.reload();
        };
    });
</script>
{% endblock %}
